{
    "contents" : "# To find siliar artchitypes\ncomb <- readRDS(\"data/combined_2013_arch.Rds\")\nsel <- comb[,c(\"aacode\",\"aagpd1213\",\"archcode\",\"energytyp\",\"generaltyp\",\"rooftyp\",\"solartyp\",\"walltyp\",\"wintyp\",\"floortyp\")]\n\nsel <- sel[with(sel, order(rooftyp,solartyp,walltyp,wintyp,floortyp)),]\nuni <- as.data.frame(unique(sel[,c(\"archcode\",\"energytyp\",\"generaltyp\",\"rooftyp\",\"solartyp\",\"walltyp\",\"wintyp\",\"floortyp\")]))\n\n\ncomp <- matrix(nrow = nrow(uni), ncol = nrow(uni))\ncomp <- as.data.frame(comp)\nnames(comp) <- uni$archcode\nrownames(comp) <- uni$archcode\n\nnrow <- length(uni$archcode)\nncell <-  nrow ** 2\n\ny_last = 1\n\nfor(i in 1:ncell){\n  y <- floor(i/nrow - 0.00000000000001) + 1 #Column Number\n  x <- i - ((y-1) * nrow) #Row Number\n  if(y != y_last){print(paste0(\"Doing column \",y,\" of \",nrow,\" at \",Sys.time()))}\n  yid <- colnames(comp)[y]\n  xid <- rownames(comp)[x]\n  xval <- uni[uni$archcode == xid,]\n  yval <- uni[uni$archcode == yid,]\n  comp[x,y] <- sum(xval$energytyp == yval$energytyp, xval$generaltyp == yval$generaltyp, xval$rooftyp == yval$rooftyp, xval$solartyp == yval$solartyp, xval$walltyp == yval$walltyp, xval$wintyp == yval$wintyp, xval$floortyp == yval$floortyp)\n  y_last <- y\n}\n\n\nsaveRDS(comp,\"data/archetypes_comparion.Rds\")\n",
    "created" : 1495024604679.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3657649846",
    "id" : "4DE15AEF",
    "lastKnownWriteTime" : 1495041645,
    "path" : "C:/Users/earmmor/Git/glider/Glider/code/similar_archetypes.R",
    "project_path" : "code/similar_archetypes.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}