---
  output: html_document
---
  
```{r echo=FALSE}
# See https://stackoverflow.com/questions/28331343/knitting-to-pdf-in-r for info
i <- 1
arch <- read.csv("C:/Users/earmmor/Git/glider/Glider/data/archetype_summary.csv" , stringsAsFactors = FALSE)
name <- arch$archcode[i]
number <- arch$ndwel[i]
type <- arch$arch_type[i]
wall <- arch$arch_wall[i]
floor <- arch$arch_floor[i]
roof <- arch$arch_roof[i]
solar <- arch$arch_solar[i]
glazing <- arch$arch_window[i]
energy <- arch$arch_energy[i]
nsample <- arch$nsample[i]
wallins <- arch$wallins[i]

locations <- data.frame(locations = c("city centre","other urban centre","suburban residential","rural residential","village centre","rural"), val = c(arch$citycentre[i], arch$otherurban[i], arch$suburban[i], arch$ruralres[i], arch$villagecentre[i], arch$rural[i]))
locations <- locations[locations$val >0,]
locations <- locations[order(-locations$val),]
locations$percent <- round(locations$val / sum(locations$val) * 100, 0)
locations$val <- NULL
locations <- locations[1:2,]





summary <- data.frame(Desciption = c("Built between",
                                     "SAP Energy Rating",
                                     "Number of Windows",
                                     "Heating Controls",
                                     "% with insualted tank"
                                     ),
                      Value = c(paste0(arch$age.Q1[i]," - ",arch$age.Q3[i]),
                                paste0(arch$sap.Q1[i]," - ",arch$sap.Q3[i]),
                                paste0(arch$windows.Q1[i]," - ",arch$windows.Q3[i]),
                                paste0(arch$control.Q1[i]," - ",arch$control.Q3[i]),
                                arch$tank.wellins[i]
                                ),
                      Desciptions = c("Usable Floor area (m2)",
                                      "Max Solar Area",
                                      "Number of external Doors",
                                      "Radiator Controls",
                                      "% with access to mains gas"
                                      ),
                      Values = c(paste0(arch$floorarea.Q1[i]," - ",arch$floorarea.Q3[i]),
                                 paste0(arch$solararea.Q1[i]," - ",arch$solararea.Q3[i]),
                                 paste0(arch$doors.Q1[i]," - ",arch$doors.Q3[i]),
                                 paste0(arch$radcontrol.Q1[i]," - ",arch$radcontrol.Q3[i]),
                                 arch$gasgrid.yes[i]
                                 )
                      
                      
                      )



```

<style>
  .col2 {
    columns: 2 200px;         /* number of columns and width in pixels*/
    -webkit-columns: 2 200px; /* chrome, safari */
    -moz-columns: 2 200px;    /* firefox */
  }
  .col3 {
    columns: 3 100px;
    -webkit-columns: 3 100px;
    -moz-columns: 3 100px;
  }
</style>




**Architype Code:** `r name`		      **Number of Dwellings like this in England:** `r number`

**Building Type:** `r type`           **Double Glazing:**  `r glazing`

**Wall Construction:** `r wall`  			**Floor Construction:** `r floor`

**Roof Type:** `r roof`               **Roof Suitable for Solar Panels:**  `r solar` 

**Energy System:**  `r energy`

**Dwellings like this are typically**

```{r echo=FALSE}
library(knitr)
kable(summary, row.names = FALSE)
```


**Most Common Locations**
```{r echo=FALSE}
kable(locations, row.names = FALSE)
```

**Retrofit Progress Infromation**

Dwellings with insualted walls: `r wallins` %




